<!-- cam-viewer.component.html -->
<mat-sidenav-container class="viewer-container">
  
  <!-- The Sidenav on the left -->
  <mat-sidenav #sidenav 
               mode="side" 
               position="start" 
               [(opened)]="sidePanelOpen" 
               class="control-sidenav">
    <!-- Put your existing sidebar controls inside -->
    <app-sidebar-controls
      (depthToggleChange)="onDepthToggle($event)"
      (rgbToggleChange)="onRgbToggle($event)"
      (depthResolutionChange)="updateDepthConfig($event)"
      (rgbResolutionChange)="updateRGBConfig($event)"
      (depthExposureChange)="updateDepthExposure($event)"
      (rgbExposureChange)="updateRGBExposure($event)"
      (depthMetadataToggle)="onDepthMetadataToggle($event)"
      (rgbMetadataToggle)="onRgbMetadataToggle($event)">
    </app-sidebar-controls>
  </mat-sidenav>

  <!-- Main Content: includes a top toolbar + the streams -->
  <mat-sidenav-content>
    
    <!-- Top toolbar with a "hamburger" icon to toggle the sidenav -->
    <mat-toolbar color="primary" class="top-toolbar">
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="toolbar-title">control-panel</span>
    </mat-toolbar>

    <!-- The streaming area (cam-streams) -->
    <div class="content-area">
      <app-cam-streams
        [showDepth]="showDepth"
        [showRGB]="showRGB"
        [depthImageUrl]="depthImageUrl"
        [colorImageUrl]="colorImageUrl"
        [depthMetadataLines]="depthMetadataLines"
        [rgbMetadataLines]="rgbMetadataLines">
      </app-cam-streams>

      <!-- Reconfiguring overlay -->
      <div class="overlay" *ngIf="isReconfiguring">
        <div class="overlay-content">
          <mat-icon class="spinner">autorenew</mat-icon>
          <p>Reconfiguring. Please wait...</p>
        </div>
      </div>
    </div> <!-- end content-area -->

  </mat-sidenav-content>
</mat-sidenav-container>
